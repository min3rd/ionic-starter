<ion-header>
    <div class="navbar bg-primary">
        @if (!onSearch) {
        <div class="navbar-start">
            <ion-buttons>
                <ion-back-button class="animate-fade-up animate-duration-300"></ion-back-button>
            </ion-buttons>
        </div>
        }
        @if (onSearch) {
        <div class="w-full">
            <ion-buttons>
                <ion-button (click)="onSearch = false;" class="animate-fade-up animate-duration-300">
                    <ion-icon name="arrow-back-sharp" slot="icon-only"></ion-icon>
                </ion-button>
            </ion-buttons>
            <label class="input input-bordered flex items-center gap-2 w-full animate-fade-left animate-duration-300">
                <input type="text" class="grow" placeholder="{{'search' | transloco | capitalize}}" />
                <ion-icon name="search-sharp"></ion-icon>
            </label>
        </div>
        }
        @if(!onSearch){
        <div class="navbar-end">
            <ion-buttons>
                <ion-button (click)="onSearch = true;">
                    <ion-icon slot="icon-only" name="search" class="animate-fade-up animate-duration-300"></ion-icon>
                </ion-button>
                <ion-button id="click-trigger" class="animate-fade-up animate-duration-300">
                    <ion-icon slot="icon-only" name="filter"></ion-icon>
                </ion-button>
                <ion-popover trigger="click-trigger" triggerAction="click">
                    <ng-template>
                        <ion-content>
                            <ion-item [routerLink]="['./', 'all']" routerDirection="forward">
                                <ion-label>
                                    {{'all' | transloco | capitalize}}
                                </ion-label>
                            </ion-item>
                            @if (categories) {
                            @for (category of categories; track $index) {
                            <ion-item [routerLink]="['./', category.slug]" routerDirection="forward">
                                <ion-label>
                                    {{category.title | transloco | capitalize}}
                                </ion-label>
                            </ion-item>
                            }
                            }
                        </ion-content>
                    </ng-template>
                </ion-popover>
            </ion-buttons>
        </div>
        }

    </div>
</ion-header>
<ion-content>
    <ion-router-outlet></ion-router-outlet>
</ion-content>